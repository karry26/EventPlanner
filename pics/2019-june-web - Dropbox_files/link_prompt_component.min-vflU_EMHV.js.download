define(["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","spectrum/button"],function(t,n,e,o,i,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=(function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.handleClickOutside=function(t){n.linkContainerRef&&!n.linkContainerRef.contains(t.target)&&n.hideLinkPrompt()},n.setLinkPromptContainerRef=function(t){n.linkContainerRef=t},n.onSubmit=function(t){n.triggers.hyperlink.createLink(t)},n}return e.__extends(n,t),n.prototype.componentDidMount=function(){document.addEventListener("mousedown",this.handleClickOutside)},n.prototype.componentWillUnmount=function(){document.removeEventListener("mousedown",this.handleClickOutside)},n.prototype.hideLinkPrompt=function(){this.triggers.hyperlink.updateLinkPromptProps(null)},n.prototype.render=function(){var t=this.container.getStatus().hyperlink.linkPromptProps;return o.createElement(u,{onSubmit:this.onSubmit,linkProps:t,containerRef:this.setLinkPromptContainerRef})},n})(i.EditorComponent);n.LinkPromptComponent=p;var u=(function(t){function n(n){var e=t.call(this,n)||this;return e.onEnterKey=function(t){13===(t.which||t.keyCode)&&e.canSubmit()&&e.props.onSubmit(e.state.inputValue)},e.onInputChange=function(t){e.setState({inputValue:t.currentTarget.value})},e.onCreateButtonClick=function(){e.canSubmit()&&e.props.onSubmit(e.state.inputValue)},e.canSubmit=function(){return!!e.state.inputValue},e.setInputRef=function(t){e.inputRef=t},e.state={inputValue:""},e}return e.__extends(n,t),n.prototype.componentWillUpdate=function(t){var n=!!this.props.linkProps,e=!!t.linkProps;!n&&e&&this.componentWillShow()},n.prototype.componentDidUpdate=function(t){var n=!!this.props.linkProps,e=!!t.linkProps;n&&!e&&this.componentDidShow()},n.prototype.componentWillShow=function(){this.setState({inputValue:""})},n.prototype.componentDidShow=function(){this.inputRef&&this.inputRef.focus()},n.prototype.render=function(){if(!this.props.linkProps)return null;var t=this.props.linkProps,n=t.top,e=t.left,i={top:n,left:e};return o.createElement("div",{className:"sc-link-prompt",style:i,ref:this.props.containerRef},o.createElement("input",{className:"link-prompt-input",ref:this.setInputRef,onKeyPress:this.onEnterKey,placeholder:"Enter link URL",value:this.state.inputValue,onChange:this.onInputChange}),o.createElement(r.Button,{className:"submit-button",disabled:!this.canSubmit(),onClick:this.onCreateButtonClick},"Create"))},n})(o.Component)});
//# sourceMappingURL=link_prompt_component.min.js-vflXVsO7o.map