define(["require","exports","tslib","external/lodash","react","spectrum/modal","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/react/folder_dialog/move_dialog","modules/clean/react/folder_dialog/utils","modules/clean/react/modal","modules/clean/ux_analytics_utils","modules/clean/web_timing_logger","modules/clean/web_modal_activity_logger"],function(e,o,l,t,a,n,d,i,r,c,s,g,u){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),t=l.__importStar(t),a=l.__importDefault(a),c=l.__importStar(c),g=l.__importStar(g);var h=(function(e){function o(o){var l=e.call(this,o)||this;return l.close=function(){l.setState({open:!1}),s.dispatchModalClosed()},l.handleError=function(e){l.logger.log(d.ModalEventName.ERROR,{error:e.message}),l.props.onError(e)},l.handleSuccess=function(){l.logger.log(d.ModalEventName.SUCCESS),l.props.onSuccess(),l.close()},l.handleCancel=function(){l.props.onCancel(),l.close()},l.handleDataLoaded=function(e){l.logger.log(d.ModalEventName.DATA_LOADED,{path:e})},l.handleBreadcrumbClicked=function(e){l.logger.log(d.ModalEventName.BREADCRUMB_CLICKED,{path:e})},l.handleRowClicked=function(e,o,t){l.logger.log(d.ModalEventName.ROW_CLICKED,{path:e,index:o,is_keyboard:t})},l.handleReady=function(){l.logger.log(d.ModalEventName.READY),s.dispatchModalOpened()},l.handleRequestClose=function(){l.logger.log(d.ModalEventName.CLOSE),l.close()},l.handlePrimaryButtonClick=function(e){l.logger.log(d.ModalEventName.PRIMARY_CLICK,{path:e})},l.handleSecondaryButtonClick=function(){l.logger.log(d.ModalEventName.SECONDARY_CLICK)},l.getModalId=function(e){switch(e){case d.ModalName.MOVE:return"move-dialog-modal";case d.ModalName.COPY:return"copy-dialog-modal";default:return""}},l.handleFetchFolderSuggestionSuccess=function(e){l.logger.log(d.ModalEventName.FOLDER_SUGGESTION_API_RESPONSE,{folder_suggestion_path:e})},l.handleFolderSuggestionClick=function(){l.logger.log(d.ModalEventName.FOLDER_SUGGESTION_CLICKED)},l.handleFolderSuggestionLocationClick=function(){l.logger.log(d.ModalEventName.FOLDER_SUGGESTION_LOCATION_CLICKED)},l.state={open:!0},l}return l.__extends(o,e),o.prototype.componentDidMount=function(){this.logger=new u.WebModalActivityLogger(this.props.modalName),this.logger.log(d.ModalEventName.SHOW)},o.prototype.render=function(){var e=this.props,t=e.entries,d=e.initialFolderSelection,c=e.operation,s=e.initialFolderSelectionOnRedirect;return a.default.createElement(n.Modal,{onReady:this.handleReady,onRequestClose:this.handleRequestClose,bodyClassName:"mc-util-modal mc-util-modal-regular move_dialog-modal uxa-modal",bodyId:this.getModalId(this.props.modalName),overlayClickClose:!0,ariaLabel:r.createFolderPickerDialogTitle(t,c),open:this.state.open,appElement:document.getElementById("embedded-app"),shouldFocusAfterRender:!0},a.default.createElement(i.MoveDialog,l.__assign({},this.props,{webTimer:g.get_timer(),initialFolderSelection:r.getInitialFolderSelection(t,d,s),onError:this.handleError,onCancel:this.handleCancel,onSuccess:this.handleSuccess,onDataLoaded:this.handleDataLoaded,onBreadcrumbClicked:this.handleBreadcrumbClicked,onRowClicked:this.handleRowClicked,onPrimaryButtonClick:this.handlePrimaryButtonClick,onSecondaryButtonClick:this.handleSecondaryButtonClick,onFetchFolderSuggestionSuccess:this.handleFetchFolderSuggestionSuccess,onFolderSuggestionClick:this.handleFolderSuggestionClick,onFolderSuggestionLocationClick:this.handleFolderSuggestionLocationClick,showMoveDialogOnRedirect:o.show})))},o.show=function(e){c.Modal.showInstance(a.default.createElement(o,l.__assign({},e)))},o.defaultProps={onError:t.noop},o})(a.default.PureComponent);o.MoveDialogModal=h});
//# sourceMappingURL=move_dialog_modal.min.js-vflf5X5vD.map