define(["require","exports","tslib","react","spectrum_comments/comment_editor/core/editor_component","spectrum_comments/folder_overview_editor/components/popover_component","spectrum/button","draft-js"],function(e,t,o,n,r,i,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.getPosition=function(e){var o=t.container.getStatus().mentionShareFlow.popupProps,n=o&&o.mentionKey;if(!n)return null;var r=e.querySelectorAll('[data-entity-key="'+n+'"]')[0];return r?r.getBoundingClientRect():null},t.onClickOnCancel=function(){t.closeSharePopup();var e=t.status.draft.editorState,o=s.EditorState.forceSelection(e,e.getSelection());t.triggers.draft.change(o)},t.onClickOnShare=function(){var e=t.container.getStatus().mentionShareFlow.popupProps;e&&t.triggers.mentionShareFlow.onShare(e),t.closeSharePopup()},t}return o.__extends(t,e),t.prototype.closeSharePopup=function(){this.triggers.mentionShareFlow.updatePopupProps(null)},t.prototype.getUserString=function(e){return e&&e.user?e.user.name.public||e.user.email:e&&"email"==e.mentionData.type?e.mentionData.identifier:""},t.prototype.render=function(){var e=this.status.mentionShareFlow.popupProps,t=this.localization.folderOverviewSharePopover,o=this.getUserString(e),r=t&&t.shareMessage(o,this.props.rootSharedFolderName),s=!!e;return n.createElement(i.PopoverComponent,{popoverWidth:300,className:"sc-mention-share-popover",scrollClassName:this.props.scrollClassName,computeTargetPosition:this.getPosition,isVisible:s},n.createElement("div",{className:"popup-title"},t&&t.shareTitle(o)),n.createElement("div",{className:"popup-message"},r),n.createElement("div",{className:"button-container"},n.createElement(a.Button,{className:"cancel-button",variant:"secondary",onClick:this.onClickOnCancel},t&&t.cancelLabel),n.createElement(a.Button,{variant:"primary",onClick:this.onClickOnShare},t&&t.continueLabel)))},t})(r.EditorComponent);t.MentionSharePopoverComponent=l});
//# sourceMappingURL=mention_share_popover.min.js-vflzMVTw4.map